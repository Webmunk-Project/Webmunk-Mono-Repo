/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	// The require scope
/******/ 	var __webpack_require__ = {};
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
/*!**************************!*\
  !*** ./src/messenger.js ***!
  \**************************/
__webpack_require__.r(__webpack_exports__);

class Messenger {
  constructor(external = true) {
    this._methodPrefix = '_onMessage_';
    this._receivers = [];
    this._frameIds = [];
    this._promises = [];
    this.external = external;
    this._registerHandlers();
    this.addReceiver('Messenger', this);
  }
  actionFor(receiverName, action) {
    if (!this._receivers[receiverName]) return false;else if (!this._receivers[receiverName][action]) return false;else return true;
  }
  _registerHandlers() {
    chrome.runtime.onMessage.addListener(this._onMessage.bind(this));
    if (this.external) chrome.runtime.onMessageExternal.addListener(this._onMessage.bind(this));
  }
  addReceiver(receiverName, receiver) {
    this._receivers[receiverName] = receiver;
  }
  _onEventTabDestroyed(tabId) {
    this._onContextDestroy(tabId);
  }
  _onContextDestroy(tabId) {
    if (this._promises[tabId]) {
      console.log('Messenger._onContextDestroy releasing  tab info' + tabId);
      delete this._promises[tabId];
    }
  }
  _onMessage(message, from, reply) {
    var error;
    if (message.type == 'chromex.dispatch' || message.type == 'SIGN_CONNECT') {
      return; //reply('not for me') // this is a redux message
    }

    if (typeof message !== 'object') {
      console.log(error = 'Got non-object message', message);
    } else if (!message.action) {
      console.log(error = 'Message has no action', message);
      return;
    } else if (typeof message.action !== 'string') {
      console.log(error = 'Wrong action type', message);
    } //else if (!from || !from.tab || !from.tab.id) {
    //  console.log(error = "Only messages from tabs with available 'id' are served");
    //}
    if (error) {
      return reply({
        error
      });
    }
    var [receiver, method] = message.action.split('.');
    var promise = Promise.resolve();
    if (receiver === 'self') {
      promise = promise.then(() => {
        new Promise((resolve, reject) => {
          chrome.tabs.sendMessage(from.tab.id, Object.assign({}, message, {
            action: method
          }), {
            frameId: 0
          }, result => {
            if (chrome.runtime.lastError) {
              return reject(chrome.runtime.lastError);
            }
            if (result.error) {
              return reject(result.error);
            }
            resolve(result.data);
          });
        });
        return true;
      });
    } else {
      var computedMethodName = this._methodPrefix + method;
      if (!this._receivers[receiver]) {
        return;
        // console.log((error = `Got no receiver '${receiver}'`))
      } else if (!method) {
        console.log(error = 'Empty method name', message);
      } else if (!this._receivers[receiver][computedMethodName]) {
        console.log(error = `Receiver '${receiver}' has no method '${method}'`);
      }
      if (error) {
        return reply({
          error
        });
      }
      promise = promise.then(() => {
        // we can run sync and async methods
        //setting frame id if not set yet.
        if (from.tab) {
          from.tab.frameId = from.tab.frameId || from.frameId;
        }
        return this._receivers[receiver][computedMethodName](message.data, from, reply);
      });
    }
    //console.log(`Messenger._onMessage: receving action '${message.action}'`);

    promise.then(data => {
      reply({
        ok: true,
        data
      });
    }, error => {
      if (typeof error === 'object' && error.message) {
        return reply({
          error: error.message
        });
      }
      reply({
        error
      });
    });

    // we are async
    return true;
  }
  sendToMainPage(tabId, name, action, data, frameId) {
    return new Promise(function (resolve, reject) {
      chrome.tabs.sendMessage(tabId, {
        name: name,
        action: action,
        data: data
      }, {
        frameId: frameId ? frameId : 0
      }, function (result) {
        if (chrome.runtime.lastError) {
          console.log('got error ' + chrome.runtime.lastError.message + ' ' + tabId + ' ' + (frameId ? frameId : 0));
          console.log('got error sending', name, action);
          reject(new Error("Can't send " + action + ' to tab ' + tabId));
        } else {
          resolve(result);
        }
      });
    });
  }
  _rememberFramePromise(tabId, frameName, resolve) {
    if (!this._promises[tabId]) {
      this._promises[tabId] = [];
    }
    this._promises[tabId][frameName] = resolve;
  }
  getLastFrameResolveMethod(tabId, frameName) {
    return this._promises[tabId][frameName];
  }
  sendToFrame(tabId, name, action, data) {
    return new Promise((resolve, reject) => {
      // this is to resolve externally a dialog
      this._rememberFramePromise(tabId, name, resolve);
      var _timeInterval = setInterval(() => {
        if (this._frameIds[tabId] && this._frameIds[tabId][name]) {
          clearInterval(_timeInterval);
          chrome.tabs.sendMessage(tabId, {
            action,
            name,
            data
          }, {
            frameId: this._frameIds[tabId][name]
          }, message => {
            if (chrome.runtime.lastError) {
              return reject(chrome.runtime.lastError);
            }
            if (message.error) {
              console.log('got error', message.error);
              return reject(new Error(message.error));
            }
            return resolve(message);
          });
        }
      }, 200);
    });
  }
  _onMessage_relay(data, from, _reply) {
    if (typeof data.data == 'object') {
      data.data.frameId = from.frameId;
    }
    return this.sendToMainPage(from.tab.id, data.name, data.action, data.data, data.frameId).then(response => {
      if (typeof response == 'object') response.frameId = from.frameId;
      return response;
    });
  }
  _onMessage_getFrameId(_data, from, reply) {
    reply(from.frameId);
  }
  _onMessage_ping(_data, from, reply) {
    reply({
      success: true
    });
  }
}
let messenger = new Messenger();
self.messenger = messenger;
exports.messenger = messenger;
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJLENBQUNpQixPQUFPLENBQUM7RUFDckI7RUFDQXFCLGVBQWVBLENBQUNELEtBQUssRUFBRXJDLElBQUksRUFBRUMsS0FBSyxFQUFFO0lBQ2xDQSxLQUFLLENBQUM7TUFDSnNDLE9BQU8sRUFBRTtJQUNYLENBQUMsQ0FBQztFQUNKO0FBQ0Y7QUFDQSxJQUFJQyxTQUFTLEdBQUcsSUFBSWxFLFNBQVMsQ0FBQyxDQUFDO0FBQy9CbUUsSUFBSSxDQUFDRCxTQUFTLEdBQUdBLFNBQVM7QUFDMUJFLE9BQU8sQ0FBQ0YsU0FBUyxHQUFHQSxTQUFTLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ad2VibXVuay91dGlscy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9Ad2VibXVuay91dGlscy93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL0B3ZWJtdW5rL3V0aWxzLy4vc3JjL21lc3Nlbmdlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XG5jbGFzcyBNZXNzZW5nZXIge1xuICBjb25zdHJ1Y3RvcihleHRlcm5hbCA9IHRydWUpIHtcbiAgICB0aGlzLl9tZXRob2RQcmVmaXggPSAnX29uTWVzc2FnZV8nO1xuICAgIHRoaXMuX3JlY2VpdmVycyA9IFtdO1xuICAgIHRoaXMuX2ZyYW1lSWRzID0gW107XG4gICAgdGhpcy5fcHJvbWlzZXMgPSBbXTtcbiAgICB0aGlzLmV4dGVybmFsID0gZXh0ZXJuYWw7XG4gICAgdGhpcy5fcmVnaXN0ZXJIYW5kbGVycygpO1xuICAgIHRoaXMuYWRkUmVjZWl2ZXIoJ01lc3NlbmdlcicsIHRoaXMpO1xuICB9XG4gIGFjdGlvbkZvcihyZWNlaXZlck5hbWUsIGFjdGlvbikge1xuICAgIGlmICghdGhpcy5fcmVjZWl2ZXJzW3JlY2VpdmVyTmFtZV0pIHJldHVybiBmYWxzZTtlbHNlIGlmICghdGhpcy5fcmVjZWl2ZXJzW3JlY2VpdmVyTmFtZV1bYWN0aW9uXSkgcmV0dXJuIGZhbHNlO2Vsc2UgcmV0dXJuIHRydWU7XG4gIH1cbiAgX3JlZ2lzdGVySGFuZGxlcnMoKSB7XG4gICAgY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKHRoaXMuX29uTWVzc2FnZS5iaW5kKHRoaXMpKTtcbiAgICBpZiAodGhpcy5leHRlcm5hbCkgY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlRXh0ZXJuYWwuYWRkTGlzdGVuZXIodGhpcy5fb25NZXNzYWdlLmJpbmQodGhpcykpO1xuICB9XG4gIGFkZFJlY2VpdmVyKHJlY2VpdmVyTmFtZSwgcmVjZWl2ZXIpIHtcbiAgICB0aGlzLl9yZWNlaXZlcnNbcmVjZWl2ZXJOYW1lXSA9IHJlY2VpdmVyO1xuICB9XG4gIF9vbkV2ZW50VGFiRGVzdHJveWVkKHRhYklkKSB7XG4gICAgdGhpcy5fb25Db250ZXh0RGVzdHJveSh0YWJJZCk7XG4gIH1cbiAgX29uQ29udGV4dERlc3Ryb3kodGFiSWQpIHtcbiAgICBpZiAodGhpcy5fcHJvbWlzZXNbdGFiSWRdKSB7XG4gICAgICBjb25zb2xlLmxvZygnTWVzc2VuZ2VyLl9vbkNvbnRleHREZXN0cm95IHJlbGVhc2luZyAgdGFiIGluZm8nICsgdGFiSWQpO1xuICAgICAgZGVsZXRlIHRoaXMuX3Byb21pc2VzW3RhYklkXTtcbiAgICB9XG4gIH1cbiAgX29uTWVzc2FnZShtZXNzYWdlLCBmcm9tLCByZXBseSkge1xuICAgIHZhciBlcnJvcjtcbiAgICBpZiAobWVzc2FnZS50eXBlID09ICdjaHJvbWV4LmRpc3BhdGNoJyB8fCBtZXNzYWdlLnR5cGUgPT0gJ1NJR05fQ09OTkVDVCcpIHtcbiAgICAgIHJldHVybjsgLy9yZXBseSgnbm90IGZvciBtZScpIC8vIHRoaXMgaXMgYSByZWR1eCBtZXNzYWdlXG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSAnb2JqZWN0Jykge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IgPSAnR290IG5vbi1vYmplY3QgbWVzc2FnZScsIG1lc3NhZ2UpO1xuICAgIH0gZWxzZSBpZiAoIW1lc3NhZ2UuYWN0aW9uKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvciA9ICdNZXNzYWdlIGhhcyBubyBhY3Rpb24nLCBtZXNzYWdlKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtZXNzYWdlLmFjdGlvbiAhPT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yID0gJ1dyb25nIGFjdGlvbiB0eXBlJywgbWVzc2FnZSk7XG4gICAgfSAvL2Vsc2UgaWYgKCFmcm9tIHx8ICFmcm9tLnRhYiB8fCAhZnJvbS50YWIuaWQpIHtcbiAgICAvLyAgY29uc29sZS5sb2coZXJyb3IgPSBcIk9ubHkgbWVzc2FnZXMgZnJvbSB0YWJzIHdpdGggYXZhaWxhYmxlICdpZCcgYXJlIHNlcnZlZFwiKTtcbiAgICAvL31cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHJldHVybiByZXBseSh7XG4gICAgICAgIGVycm9yXG4gICAgICB9KTtcbiAgICB9XG4gICAgdmFyIFtyZWNlaXZlciwgbWV0aG9kXSA9IG1lc3NhZ2UuYWN0aW9uLnNwbGl0KCcuJyk7XG4gICAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICBpZiAocmVjZWl2ZXIgPT09ICdzZWxmJykge1xuICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICBjaHJvbWUudGFicy5zZW5kTWVzc2FnZShmcm9tLnRhYi5pZCwgT2JqZWN0LmFzc2lnbih7fSwgbWVzc2FnZSwge1xuICAgICAgICAgICAgYWN0aW9uOiBtZXRob2RcbiAgICAgICAgICB9KSwge1xuICAgICAgICAgICAgZnJhbWVJZDogMFxuICAgICAgICAgIH0sIHJlc3VsdCA9PiB7XG4gICAgICAgICAgICBpZiAoY2hyb21lLnJ1bnRpbWUubGFzdEVycm9yKSB7XG4gICAgICAgICAgICAgIHJldHVybiByZWplY3QoY2hyb21lLnJ1bnRpbWUubGFzdEVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXN1bHQuZXJyb3IpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChyZXN1bHQuZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQuZGF0YSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgY29tcHV0ZWRNZXRob2ROYW1lID0gdGhpcy5fbWV0aG9kUHJlZml4ICsgbWV0aG9kO1xuICAgICAgaWYgKCF0aGlzLl9yZWNlaXZlcnNbcmVjZWl2ZXJdKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgICAgLy8gY29uc29sZS5sb2coKGVycm9yID0gYEdvdCBubyByZWNlaXZlciAnJHtyZWNlaXZlcn0nYCkpXG4gICAgICB9IGVsc2UgaWYgKCFtZXRob2QpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IgPSAnRW1wdHkgbWV0aG9kIG5hbWUnLCBtZXNzYWdlKTtcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX3JlY2VpdmVyc1tyZWNlaXZlcl1bY29tcHV0ZWRNZXRob2ROYW1lXSkge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvciA9IGBSZWNlaXZlciAnJHtyZWNlaXZlcn0nIGhhcyBubyBtZXRob2QgJyR7bWV0aG9kfSdgKTtcbiAgICAgIH1cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICByZXR1cm4gcmVwbHkoe1xuICAgICAgICAgIGVycm9yXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgIC8vIHdlIGNhbiBydW4gc3luYyBhbmQgYXN5bmMgbWV0aG9kc1xuICAgICAgICAvL3NldHRpbmcgZnJhbWUgaWQgaWYgbm90IHNldCB5ZXQuXG4gICAgICAgIGlmIChmcm9tLnRhYikge1xuICAgICAgICAgIGZyb20udGFiLmZyYW1lSWQgPSBmcm9tLnRhYi5mcmFtZUlkIHx8IGZyb20uZnJhbWVJZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcmVjZWl2ZXJzW3JlY2VpdmVyXVtjb21wdXRlZE1ldGhvZE5hbWVdKG1lc3NhZ2UuZGF0YSwgZnJvbSwgcmVwbHkpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8vY29uc29sZS5sb2coYE1lc3Nlbmdlci5fb25NZXNzYWdlOiByZWNldmluZyBhY3Rpb24gJyR7bWVzc2FnZS5hY3Rpb259J2ApO1xuXG4gICAgcHJvbWlzZS50aGVuKGRhdGEgPT4ge1xuICAgICAgcmVwbHkoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgZGF0YVxuICAgICAgfSk7XG4gICAgfSwgZXJyb3IgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBlcnJvciA9PT0gJ29iamVjdCcgJiYgZXJyb3IubWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gcmVwbHkoe1xuICAgICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmVwbHkoe1xuICAgICAgICBlcnJvclxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyB3ZSBhcmUgYXN5bmNcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBzZW5kVG9NYWluUGFnZSh0YWJJZCwgbmFtZSwgYWN0aW9uLCBkYXRhLCBmcmFtZUlkKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGNocm9tZS50YWJzLnNlbmRNZXNzYWdlKHRhYklkLCB7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICBkYXRhOiBkYXRhXG4gICAgICB9LCB7XG4gICAgICAgIGZyYW1lSWQ6IGZyYW1lSWQgPyBmcmFtZUlkIDogMFxuICAgICAgfSwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICBpZiAoY2hyb21lLnJ1bnRpbWUubGFzdEVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2dvdCBlcnJvciAnICsgY2hyb21lLnJ1bnRpbWUubGFzdEVycm9yLm1lc3NhZ2UgKyAnICcgKyB0YWJJZCArICcgJyArIChmcmFtZUlkID8gZnJhbWVJZCA6IDApKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnZ290IGVycm9yIHNlbmRpbmcnLCBuYW1lLCBhY3Rpb24pO1xuICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJDYW4ndCBzZW5kIFwiICsgYWN0aW9uICsgJyB0byB0YWIgJyArIHRhYklkKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBfcmVtZW1iZXJGcmFtZVByb21pc2UodGFiSWQsIGZyYW1lTmFtZSwgcmVzb2x2ZSkge1xuICAgIGlmICghdGhpcy5fcHJvbWlzZXNbdGFiSWRdKSB7XG4gICAgICB0aGlzLl9wcm9taXNlc1t0YWJJZF0gPSBbXTtcbiAgICB9XG4gICAgdGhpcy5fcHJvbWlzZXNbdGFiSWRdW2ZyYW1lTmFtZV0gPSByZXNvbHZlO1xuICB9XG4gIGdldExhc3RGcmFtZVJlc29sdmVNZXRob2QodGFiSWQsIGZyYW1lTmFtZSkge1xuICAgIHJldHVybiB0aGlzLl9wcm9taXNlc1t0YWJJZF1bZnJhbWVOYW1lXTtcbiAgfVxuICBzZW5kVG9GcmFtZSh0YWJJZCwgbmFtZSwgYWN0aW9uLCBkYXRhKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIC8vIHRoaXMgaXMgdG8gcmVzb2x2ZSBleHRlcm5hbGx5IGEgZGlhbG9nXG4gICAgICB0aGlzLl9yZW1lbWJlckZyYW1lUHJvbWlzZSh0YWJJZCwgbmFtZSwgcmVzb2x2ZSk7XG4gICAgICB2YXIgX3RpbWVJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuX2ZyYW1lSWRzW3RhYklkXSAmJiB0aGlzLl9mcmFtZUlkc1t0YWJJZF1bbmFtZV0pIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKF90aW1lSW50ZXJ2YWwpO1xuICAgICAgICAgIGNocm9tZS50YWJzLnNlbmRNZXNzYWdlKHRhYklkLCB7XG4gICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgZGF0YVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGZyYW1lSWQ6IHRoaXMuX2ZyYW1lSWRzW3RhYklkXVtuYW1lXVxuICAgICAgICAgIH0sIG1lc3NhZ2UgPT4ge1xuICAgICAgICAgICAgaWYgKGNocm9tZS5ydW50aW1lLmxhc3RFcnJvcikge1xuICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGNocm9tZS5ydW50aW1lLmxhc3RFcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWVzc2FnZS5lcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZ290IGVycm9yJywgbWVzc2FnZS5lcnJvcik7XG4gICAgICAgICAgICAgIHJldHVybiByZWplY3QobmV3IEVycm9yKG1lc3NhZ2UuZXJyb3IpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKG1lc3NhZ2UpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCAyMDApO1xuICAgIH0pO1xuICB9XG4gIF9vbk1lc3NhZ2VfcmVsYXkoZGF0YSwgZnJvbSwgX3JlcGx5KSB7XG4gICAgaWYgKHR5cGVvZiBkYXRhLmRhdGEgPT0gJ29iamVjdCcpIHtcbiAgICAgIGRhdGEuZGF0YS5mcmFtZUlkID0gZnJvbS5mcmFtZUlkO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zZW5kVG9NYWluUGFnZShmcm9tLnRhYi5pZCwgZGF0YS5uYW1lLCBkYXRhLmFjdGlvbiwgZGF0YS5kYXRhLCBkYXRhLmZyYW1lSWQpLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgaWYgKHR5cGVvZiByZXNwb25zZSA9PSAnb2JqZWN0JykgcmVzcG9uc2UuZnJhbWVJZCA9IGZyb20uZnJhbWVJZDtcbiAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9KTtcbiAgfVxuICBfb25NZXNzYWdlX2dldEZyYW1lSWQoX2RhdGEsIGZyb20sIHJlcGx5KSB7XG4gICAgcmVwbHkoZnJvbS5mcmFtZUlkKTtcbiAgfVxuICBfb25NZXNzYWdlX3BpbmcoX2RhdGEsIGZyb20sIHJlcGx5KSB7XG4gICAgcmVwbHkoe1xuICAgICAgc3VjY2VzczogdHJ1ZVxuICAgIH0pO1xuICB9XG59XG5sZXQgbWVzc2VuZ2VyID0gbmV3IE1lc3NlbmdlcigpO1xuc2VsZi5tZXNzZW5nZXIgPSBtZXNzZW5nZXI7XG5leHBvcnRzLm1lc3NlbmdlciA9IG1lc3NlbmdlcjsiXSwibmFtZXMiOlsidjQiLCJ1dWlkdjQiLCJNZXNzZW5nZXIiLCJjb25zdHJ1Y3RvciIsImV4dGVybmFsIiwiX21ldGhvZFByZWZpeCIsIl9yZWNlaXZlcnMiLCJfZnJhbWVJZHMiLCJfcHJvbWlzZXMiLCJfcmVnaXN0ZXJIYW5kbGVycyIsImFkZFJlY2VpdmVyIiwiYWN0aW9uRm9yIiwicmVjZWl2ZXJOYW1lIiwiYWN0aW9uIiwiY2hyb21lIiwicnVudGltZSIsIm9uTWVzc2FnZSIsImFkZExpc3RlbmVyIiwiX29uTWVzc2FnZSIsImJpbmQiLCJvbk1lc3NhZ2VFeHRlcm5hbCIsInJlY2VpdmVyIiwiX29uRXZlbnRUYWJEZXN0cm95ZWQiLCJ0YWJJZCIsIl9vbkNvbnRleHREZXN0cm95IiwiY29uc29sZSIsImxvZyIsIm1lc3NhZ2UiLCJmcm9tIiwicmVwbHkiLCJlcnJvciIsInR5cGUiLCJtZXRob2QiLCJzcGxpdCIsInByb21pc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInRoZW4iLCJyZWplY3QiLCJ0YWJzIiwic2VuZE1lc3NhZ2UiLCJ0YWIiLCJpZCIsIk9iamVjdCIsImFzc2lnbiIsImZyYW1lSWQiLCJyZXN1bHQiLCJsYXN0RXJyb3IiLCJkYXRhIiwiY29tcHV0ZWRNZXRob2ROYW1lIiwib2siLCJzZW5kVG9NYWluUGFnZSIsIm5hbWUiLCJFcnJvciIsIl9yZW1lbWJlckZyYW1lUHJvbWlzZSIsImZyYW1lTmFtZSIsImdldExhc3RGcmFtZVJlc29sdmVNZXRob2QiLCJzZW5kVG9GcmFtZSIsIl90aW1lSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJfb25NZXNzYWdlX3JlbGF5IiwiX3JlcGx5IiwicmVzcG9uc2UiLCJfb25NZXNzYWdlX2dldEZyYW1lSWQiLCJfZGF0YSIsIl9vbk1lc3NhZ2VfcGluZyIsInN1Y2Nlc3MiLCJtZXNzZW5nZXIiLCJzZWxmIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=